<nav class="navbar navbar-expand-lg fixed-top">
    <div class="container">
      <!-- Mobile view supported -->
      <div class="navbar-translate">
        <a class="navbar-brand" placement="bottom" [routerLink]="['../user']" target="_blank" (click)="changeTitle(0)">
          <img alt="Penny Track" src="./assets/img/logo-coin_only.png" width="45" height="45"
            style="border-radius:50%; margin-right:10px;">
          Penny Track | {{title}}
        </a>
  
        <button aria-controls="navigation-index" aria-label="Toggle navigation" class="navbar-toggler navbar-toggler"
          [attr.aria-expanded]="!isCollapsed" (click)="isCollapsed = !isCollapsed" id="navigation" type="button">
          <span class="navbar-toggler-bar bar1"> </span>
          <span class="navbar-toggler-bar bar2"> </span>
          <span class="navbar-toggler-bar bar3"> </span>
        </button>
      </div>
  
      <div class="navbar-collapse justify-content-end" [collapse]="isCollapsed" id="navigation">
        <div class="navbar-collapse-header">
          <div class="row">
            <div class="col-6 collapse-brand"><a> Penny Track </a></div>
            <div class="col-6 collapse-close text-right">
              <button aria-controls="navigation-index" aria-label="Toggle navigation" class="navbar-toggler"
                [attr.aria-expanded]="!isCollapsed" (click)="isCollapsed = !isCollapsed" id="navigation" type="button">
                <i class="tim-icons icon-simple-remove"> </i>
              </button>
            </div>
          </div>
        </div>
  
        <!-- ganeral nav -->
        <ul class="navbar-nav">
          <li class="nav-item p-0 active">
            <a class="nav-link" placement="bottom" [routerLink]="['../user']" (click)="changeTitle(0)">
              <i class="tim-icons icon-coins"> </i>
              <p class="">Home</p>
            </a>
          </li>
          <li class="nav-item p-0">
            <a class="nav-link" placement="bottom" [routerLink]="['expense']" (click)="changeTitle(1)">
              <i class="tim-icons icon-money-coins"> </i>
              <p class="">Expense</p>
            </a>
          </li>
          <li class="nav-item p-0">
            <a class="nav-link" placement="bottom" [routerLink]="['insight']" (click)="changeTitle(2)">
              <i class="tim-icons icon-chart-bar-32"> </i>
              <p class="">Insight</p>
            </a>
          </li>
  
          <!-- login button --> 
          <li class="nav-item">
            
            <div class="btn-group dropdown d-none d-lg-block" dropdown>
              <button aria-expanded="false" aria-haspopup="true" class=" btn btn-secondary dropdown-toggle dropdown-toggle" data-toggle="dropdown" dropdownToggle type="button" id="dropdownMenuLink">
                <i class="tim-icons icon-single-02"> </i>
                {{userName}}
              </button>
              <div class=" dropdown-menu" *dropdownMenu aria-labelledby="dropdownMenuLink">

                <a *ngIf="targetSucceed" class=" dropdown-item" [routerLink]="['expense']" (click)="changeTitle(1)">
                  Your Target:
                  <p class="display-4" style="color: #17b868;">
                    Target Reached
                  </p>
                  <small style="font-size: xx-small;">View more...</small>
                </a>

                <a *ngIf="targetExist && !targetSucceed" class=" dropdown-item" style="color: #ffc107;">
                  Your Target:
                  <p class="text-muted">Remaining</p>
                  <p class="display-4" style="color: #17a2b8;">
                    {{ daysdiff.days }}
                    <small style="font-size: small;">{{daysorday}}</small>
                  </p>
                  <br>
                  <p class="text-muted">Must earn</p>
                  <p class="display-4" style="color: #17a2b8;">
                    RM {{ eachDay }}
                    <small style="font-size: small;">Each day</small>
                  </p>
                </a>
                
                <a *ngIf="!targetExist" class=" dropdown-item" [routerLink]="['expense']" (click)="changeTitle(1)">
                  Your Target:
                  <p class="display-4" style="color: #ff6868;">
                    No Target 
                  </p>
                  <small style="font-size: xx-small;">Set target...</small>
                </a>

                <a class=" dropdown-item" [routerLink]="['profile']" (click)="changeTitle(3)">
                  Profile
                </a>
                
                <div class=" dropdown-divider">
                </div>
                <a class=" dropdown-item" style="color: red;" (click)="logout()">
                  Logout
                </a>
              </div>
            </div>
  
          </li>
        </ul>
      </div>
    </div>
  </nav>

<router-outlet (doc_title)="title=$event"></router-outlet>

<!-- footer -->
<footer class="footer">
    <div class="container">
        <div class="row">

            <div class="col-md-6">
                <img alt="Penny Track Logo" src="./assets/img/logo-text_only.png" width="180">
            </div>

            <div class="col-md-3">
                <ul class="nav">
                    <li class="nav-item">
                        <a class="nav-link" [routerLink]="['../user']" (click)="changeTitle(0)"> Home </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" [routerLink]="['expense']" (click)="changeTitle(1)"> Expense </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" [routerLink]="['insight']" (click)="changeTitle(2)"> insight </a>
                    </li>
                    
                </ul>
            </div>

            <div class="col-md-3">
                <ul class="nav">
                    <li class="nav-item">
                        <a class="nav-link" [routerLink]="['profile']" (click)="changeTitle(3)">
                            Profile
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" style="color: rgb(255, 155, 155); cursor:pointer;" (click)="logout()">
                            Logout
                        </a>
                    </li>
                </ul>
            </div>

        </div>
    </div>
</footer>
<!-- <small class="text-muted" style="text-align: center; font-size: x-small; margin-left: 40%;">Project of Chooi Yi Wen 0195529 â€¢ Customed Bootstrap by Creative Tim</small> -->